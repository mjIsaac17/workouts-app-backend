(this["webpackJsonpfrontend-workouts-app"]=this["webpackJsonpfrontend-workouts-app"]||[]).push([[0],{289:function(e,t){},384:function(e,t){},386:function(e,t){},397:function(e,t){},399:function(e,t){},426:function(e,t){},428:function(e,t){},429:function(e,t){},434:function(e,t){},436:function(e,t){},442:function(e,t){},444:function(e,t){},463:function(e,t){},475:function(e,t){},478:function(e,t){},483:function(e,t){},484:function(e,t){},486:function(e,t,n){},487:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(66),s=n.n(a),i=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,750)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},o=n(595),l=n(590),u="failureAction",d="clearMuscle",j="failureGetMuscles",b="setCurrentMuscle",m="successAddMuscle",x="successGetMuscles",O="successUpdateMuscle",p="successRemoveMuscle",h="successGetExercises",f="successGetExercisesToAddExistingExercise",g="clearExercises",v="successAddExercise",y="setCurrentExercise",w="successUpdateExercise",k="successRemoveExercise",N="successLogin",C="finishRenewToken",S="clearUser",E="userSetCurrent",_="successAddUser",I="userSuccessGetRoles",U="successGetUsers",A="userSuccessUpdate",L="userSuccessDelete",W="successGetMyWorkouts",T="successAddWorkout",D="successGetWorkoutExercises",F="setCurrentWorkout",P="successUpdateWorkout",M="successRemoveWorkout",z="setSnackbar",B="setModal",R="setLoading",q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:z,payload:{type:e,message:t,open:n}}},G=n(13),J=n(1),V=function(){var e=Object(G.c)((function(e){return e.snackbar})),t=Object(G.b)(),n=function(n,r){"clickaway"!==r&&t(q(e.type,e.message,!1))};return Object(J.jsx)(o.a,{open:e.open,autoHideDuration:3e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(l.a,{onClose:n,severity:e.type,elevation:6,variant:"filled",children:e.message})})},Y=n(43),H=n(32),X=n(18),K=n.n(X),Q=n(24),Z="https://workouts-app1.herokuapp.com/api",$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r="".concat(Z,"/").concat(e);return"GET"===n?fetch(r):fetch(r,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r="".concat(Z,"/").concat(e),c=localStorage.getItem("token")||"";return"GET"===n?fetch(r,{method:n,headers:{"x-token":c}}):fetch(r,{method:n,headers:{"Content-Type":"application/json","x-token":c},body:JSON.stringify(t)})},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",r="".concat(Z,"/").concat(e),c=localStorage.getItem("token")||"",a=new FormData;for(var s in t)a.append(s,t[s]);return fetch(r,{method:n,headers:{"x-token":c},body:a})},ne=1,re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Modal title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:B,payload:{isOpen:e,header:t,componentName:n}}},ce=function(e){return{type:h,payload:e}},ae=function(e){return{type:f,payload:e}},se=function(e){return{type:u,payload:e}},ie=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(Q.a)(K.a.mark((function n(r){var c,a;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ee("exercise/".concat(e));case 3:return c=n.sent,n.next=6,c.json();case 6:a=n.sent,c.ok?r(t?ce(a):ae(a)):(r(q("error",a.error,!0)),r(se(a.error))),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),r(se(n.t0.message)),r(q("error",n.t0.message,!0)),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},oe=function(e){return{type:v,payload:e}},le=function(e){return{type:y,payload:e}},ue=function(e){return{type:w,payload:e}},de=function(e){return{type:k,payload:e}},je="muscle",be=function(e){return{type:j,payload:e}},me=function(){return function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(je);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?t({type:x,payload:r}):t(be(r.error)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(be(e.t0.message)),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},xe=function(e){return{type:m,payload:e}},Oe=function(e){return{type:O,payload:e}},pe=function(e){return{type:p,payload:e}},he=function(e){return{type:b,payload:e}},fe=function(e){return{type:N,payload:e}},ge=function(){return{type:C}},ve=function(){return function(e){localStorage.clear(),e({type:S}),e({type:d}),e({type:g})}},ye=n(3),we=n(10),ke=n(6),Ne=n(565),Ce=n(566),Se=n(155),Ee=n(208),_e=n(608),Ie=n(95),Ue=function(){var e=Object(G.b)(),t=Object(r.useState)({email:"",password:""}),n=Object(ke.a)(t,2),c=n[0],a=n[1],s=function(e){a(Object(we.a)(Object(we.a)({},c),{},Object(ye.a)({},e.target.name,e.target.value)))};return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("div",{className:"flex-container center",children:Object(J.jsxs)("div",{className:"login-box",children:[Object(J.jsxs)("div",{className:"login-box__header",children:[Object(J.jsx)(Se.a,{variant:"h4",children:"Sign in"}),Object(J.jsx)(Se.a,{variant:"h6",color:"textSecondary",children:"Welcome back!"})]}),Object(J.jsx)("div",{className:"login-box__body",children:Object(J.jsxs)("form",{style:{display:"grid"},onSubmit:function(t){var n;t.preventDefault(),e((n=c,function(){var e=Object(Q.a)(K.a.mark((function e(t){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("user",n,"POST");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,r.ok?(localStorage.setItem("token",c.token),c.role_id===ne?c.isAdmin=!0:c.isAdmin=!1,delete c.token,t(fe(c)),t(q("error","",!1))):t(q("error",c.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(J.jsxs)("div",{className:"space-elements-y--1",children:[Object(J.jsx)(Ee.a,{id:"txtLoginEmail",fullWidth:!0,label:"Email",name:"email",onChange:s,placeholder:"Email",type:"email",value:c.email,variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(_e.a,{position:"start",children:Object(J.jsx)(Ne.a,{})})}}),Object(J.jsx)(Ee.a,{fullWidth:!0,id:"txtLoginPassword",label:"Password",name:"password",onChange:s,placeholder:"Password",type:"password",value:c.password,variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(_e.a,{position:"start",children:Object(J.jsx)(Ce.a,{})})}})]}),Object(J.jsxs)("div",{className:"login-box__buttonArea",children:[Object(J.jsx)("div",{className:"login-box__buttonArea__item",children:Object(J.jsx)(Ie.a,{variant:"contained",size:"large",type:"submit",children:"Log in"})}),Object(J.jsx)("div",{className:"login-box__buttonArea__item",children:Object(J.jsx)(Y.b,{to:"/register",children:Object(J.jsx)(Ie.a,{variant:"contained",size:"large",color:"secondary",children:"Register"})})})]})]})})]})})})},Ae=n(597),Le=n(598),We=n(609),Te=n(299),De=n.n(Te),Fe=function(){var e={name:"",lastname:"",email:"",password:""},t=Object(G.b)(),n=Object(r.useState)(e),c=Object(ke.a)(n,2),a=c[0],s=c[1];return Object(J.jsx)("div",{className:"flex-container center",children:Object(J.jsx)("div",{className:"login-box",children:Object(J.jsxs)(We.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(J.jsx)(Ae.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(J.jsx)(De.a,{})}),Object(J.jsx)(Se.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(J.jsxs)(We.a,{component:"form",noValidate:!0,onSubmit:function(n){n.preventDefault();var r,c=new FormData(n.currentTarget),a={name:c.get("name"),lastname:c.get("lastname"),email:c.get("email"),password:c.get("password"),confirmPassword:c.get("confirmPassword")};(function(t){var n=Object(we.a)({},e),r=!0;return t.name||(n.name="Invalid name",r=!1),t.lastname||(n.lastname="Invalid last name",r=!1),t.email||(n.email="Invalid email",r=!1),t.password?t.password!==t.confirmPassword&&(n.password="The passwords are not the same",r=!1):(n.password="Invalid password",r=!1),s(n),r})(a)&&(delete a.confirmPassword,t((r=a,function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("user/register",r,"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,n.ok?(localStorage.setItem("token",c.token),c.isAdmin=!1,delete c.token,t(fe(c)),t(q("error","",!1))):t(q("error",c.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())))},sx:{mt:3},children:[Object(J.jsxs)(Le.a,{container:!0,spacing:2,children:[Object(J.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(Ee.a,{name:"name",required:!0,fullWidth:!0,label:"First Name",helperText:a.name,error:!!a.name,autoFocus:!0})}),Object(J.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(Ee.a,{required:!0,fullWidth:!0,label:"Last Name",name:"lastname",helperText:a.lastname,error:!!a.lastname})}),Object(J.jsx)(Le.a,{item:!0,xs:12,children:Object(J.jsx)(Ee.a,{required:!0,fullWidth:!0,label:"Email Address",type:"email",name:"email",helperText:a.email,error:!!a.email})}),Object(J.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(Ee.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",helperText:a.password,error:!!a.password})}),Object(J.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(Ee.a,{required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm password",type:"password"})})]}),Object(J.jsx)(Ie.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(J.jsx)(Le.a,{container:!0,justifyContent:"flex-end",children:Object(J.jsx)(Le.a,{item:!0,children:Object(J.jsx)(Y.b,{to:"/login",children:"Already have an account? Sign in"})})})]})]})})})},Pe=n(580),Me=n(210),ze=n(611),Be=n(568),Re=n(569),qe=n(606),Ge=n(594),Je=n(567),Ve=n(311),Ye=function(){return Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)(Se.a,{variant:"h4",component:"h1",marginY:3,children:"About"}),Object(J.jsx)("p",{children:"Workouts App is a web application that provides information on exercises classified by muscle groups."}),Object(J.jsx)("p",{children:"You can create your own workouts by selecting the exercises you want!!"}),Object(J.jsx)("br",{}),Object(J.jsx)("hr",{}),Object(J.jsx)("br",{}),Object(J.jsx)("p",{children:"This app was made with the following technologies:"}),Object(J.jsx)("br",{}),Object(J.jsx)("b",{children:"Frontend"}),Object(J.jsxs)(qe.a,{children:[Object(J.jsx)(Ge.a,{children:Object(J.jsx)(Je.a,{primary:"HTML, CSS/SCSS"})}),Object(J.jsx)(Ge.a,{children:Object(J.jsx)("a",{className:"link",href:"https://es.reactjs.org/",target:"_blank",rel:"noopener noreferrer",children:Object(J.jsx)(Je.a,{primary:"React JS"})})}),Object(J.jsx)(Ge.a,{children:Object(J.jsx)("a",{className:"link",href:"https://mui.com/",target:"_blank",rel:"noopener noreferrer",children:Object(J.jsx)(Je.a,{primary:"Material UI v5.0.2"})})})]}),Object(J.jsx)("b",{children:"Backend & Database"}),Object(J.jsxs)(qe.a,{children:[Object(J.jsx)(Ge.a,{children:Object(J.jsx)(Je.a,{primary:"NodeJS - Express"})}),Object(J.jsx)(Ge.a,{children:Object(J.jsx)(Je.a,{primary:"SQL server"})})]}),Object(J.jsx)("hr",{}),Object(J.jsx)("br",{}),Object(J.jsx)("b",{children:"Author info"}),Object(J.jsx)("p",{children:"Isaac Montes Jim\xe9nez"}),Object(J.jsxs)(qe.a,{children:[Object(J.jsxs)(Ge.a,{children:[Object(J.jsx)(Ve.a,{children:Object(J.jsx)(Be.a,{})}),Object(J.jsx)("a",{className:"link",href:"https://github.com/mjIsaac17/workouts-app-frontend",target:"_blank",rel:"noopener noreferrer",children:Object(J.jsx)(Je.a,{primary:"Github/mjIsaac17"})})]}),Object(J.jsxs)(Ge.a,{children:[Object(J.jsx)(Ve.a,{children:Object(J.jsx)(Re.a,{})}),Object(J.jsx)("a",{className:"link",href:"https://www.linkedin.com/in/isaac-montes-a75b85194/",target:"_blank",rel:"noopener noreferrer",children:Object(J.jsx)(Je.a,{primary:"Linkedin"})})]})]}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{})]})},He=n(576),Xe=n(577),Ke=n(134),Qe=n(209),Ze=n(154),$e=n(62),et=n(570),tt=function(e){var t=e.children,n=e.modalSize,c=void 0===n?"sm":n,a=Object(G.b)(),s=Object(G.c)((function(e){return e.modal})),i=s.isOpen,o=s.header,l=i?"modal display-block":"modal display-none";return Object(r.useEffect)((function(){return document.body.classList.add("remove-scrollbar"),function(){document.body.classList.remove("remove-scrollbar")}}),[]),Object(J.jsx)("div",{className:l,children:Object(J.jsxs)("div",{className:"modal__container modal--".concat(c),children:[Object(J.jsxs)("div",{className:"modal__header",children:[Object(J.jsx)("p",{children:o}),Object(J.jsx)("button",{type:"button",className:"closeModal",onClick:function(){a(re(!1,""))},children:Object(J.jsx)(et.a,{})})]}),Object(J.jsx)("div",{className:"modal__body",children:t})]})})},nt=n(571),rt=n(589),ct=n(106),at=n.n(ct),st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useState)(e),n=Object(ke.a)(t,2),c=n[0],a=n[1],s=function(e){var t=e.target;a(Object(we.a)(Object(we.a)({},c),{},Object(ye.a)({},t.name,t.value)))},i=function(e,t){a(Object(we.a)(Object(we.a)({},c),{},Object(ye.a)({},e,t)))},o=function(e){a(Object(we.a)({},e))},l=function(){a(e)};return[c,s,i,o,l]},it=c.a.memo((function(e){var t=e.id,n=e.name,c=e.currentImageName,a=e.onChangeFunction,s=Object(r.useState)(c||"No image selected"),i=Object(ke.a)(s,2),o=i[0],l=i[1];return Object(J.jsx)("div",{className:"m-y--1",children:Object(J.jsx)("label",{htmlFor:n,children:Object(J.jsxs)(nt.a,{direction:{xs:"column",sm:"row"},alignItems:"center",children:[Object(J.jsx)("input",{id:t,name:n,onChange:function(e){l(e.target.files[0].name),a&&a()},type:"file",style:{display:"none"}}),Object(J.jsx)(Ie.a,{variant:"contained",color:"info",component:"span",size:"small",sx:{marginRight:"1rem"},children:"New Image"}),Object(J.jsx)(Qe.a,{children:o})]})})})})),ot=n(596),lt=n(599),ut=function(e){var t=e.items,n=e.placeholder,c=void 0===n?"Select":n,a=e.defaultValues,s=e.name,i=Object(r.useState)([]),o=Object(ke.a)(i,2),l=o[0],u=o[1];return Object(r.useEffect)((function(){a&&"All"!==a&&u(a.split(","))}),[a,u]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Ze.a,{displayEmpty:!0,multiple:!0,value:l,onChange:function(e){var t=e.target.value;u("string"===typeof t?t.split(","):t)},input:Object(J.jsx)(ot.a,{}),name:s,id:s,renderValue:function(e){return 0===e.length?Object(J.jsx)("em",{children:c}):Object(J.jsx)(We.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(J.jsx)(lt.a,{label:e},e)}))})},size:"small",children:[Object(J.jsx)($e.a,{disabled:!0,value:"",children:Object(J.jsx)("em",{children:c})}),t.map((function(e){var t=e.name;return Object(J.jsx)($e.a,{value:t,children:t},t)}))]})})},dt=function(e){var t=e.muscleList,n=e.selectedMuscleName,c=void 0===n?"":n,a=e.handleModal,s=Object(G.b)(),i=Object(r.useState)(!1),o=Object(ke.a)(i,2),l=o[0],u=o[1],d=st({name:"",description:"",image:null}),j=Object(ke.a)(d,3),b=j[0],m=j[1],x=j[2];return Object(J.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,n=document.getElementsByName("muscleNames")[0].value;(function(e){return b.name?""===e?(s(q("error","Select a valid muscle",!0)),!1):!!document.getElementById("image").files[0]||(s(q("error","Select an image",!0)),!1):(s(q("error","Invalid exercise name",!0)),!1)})(n)&&(u(!0),s((t=Object(we.a)(Object(we.a)({},b),{},{muscleNames:n}),function(){var e=Object(Q.a)(K.a.mark((function e(n){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te("exercise",t);case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,r.ok?(t.id=c.exerciseId,t.imageName=c.imageName,t.imageUrl=c.imageUrl,delete t.image,n(oe(t)),n(q("success","Exercise added",!0))):n(q("error",c.error,!0)),n(re(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),n(se(e.t0.message)),n(q("error",e.t0.message,!0)),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())))},children:[Object(J.jsxs)("div",{className:"flex-box space-between space-elements-y--1 ",children:[Object(J.jsx)(Ee.a,{className:"w49",size:"small",name:"name",required:!0,label:"Exercise name",onChange:m}),Object(J.jsx)(Ke.a,{className:"w49",children:Object(J.jsx)(ut,{items:t,placeholder:"Select muscles",name:"muscleNames",defaultValues:c})})]}),Object(J.jsx)(Ee.a,{sx:{margin:"0.5rem 0"},size:"small",name:"description",fullWidth:!0,label:"Description",multiline:!0,rows:"3",onChange:m}),Object(J.jsx)(it,{id:"image",name:"image",onChangeFunction:function(){var e=document.getElementById("image").files[0];x("image",e)}}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:function(){return a(!1,"")},children:"Cancel"}),Object(J.jsx)(rt.a,{color:"success",endIcon:Object(J.jsx)(at.a,{}),loading:l,loadingPosition:"end",type:"submit",variant:"contained",children:"Save"})]})]})},jt=function(e){var t=e.exerciseList,n=Object(G.b)(),c=Object(G.c)((function(e){return e.exercises})).current,a=Object(r.useState)(t.findIndex((function(e){return e.id===c.id}))),s=Object(ke.a)(a,2),i=s[0],o=s[1],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",r={};"next"===e?t[i+1]?(r=t[i+1],o(i+1)):(r=t[0],o(0)):t[i-1]?(r=t[i-1],o(i-1)):(r=t[t.length-1],o(t.length-1)),n(le(r))};return c?Object(J.jsxs)("div",{className:"modal-details",children:[Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--previous",onClick:function(){return l("previous")},children:"<"}),Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--next",onClick:function(){return l("next")},children:">"}),Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{onClick:function(){c.imageUrl&&window.open(c.imageUrl,"_blank")},className:"image",src:c.imageUrl?c.imageUrl:"".concat("","/img/default.jpg"),alt:c.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{style:{height:"100%"},children:[""!==c.description&&Object(J.jsx)("div",{className:"details details__description",children:Object(J.jsx)(Se.a,{children:c.description})}),Object(J.jsx)("div",{className:"details",children:Object(J.jsxs)(Se.a,{children:["Category: ",c.muscleNames]})})]}),Object(J.jsx)(nt.a,{direction:"row",justifyContent:"flex-end",children:Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:function(){return n(re(!1,""))},size:"small",children:"Close"})})]})]}):Object(J.jsx)("p",{children:"Loading ... "})},bt=function(e){var t=e.imageUrl,n=e.defaultImageUrl,c=e.altText,a=void 0===c?"":c,s=e.className,i=void 0===s?"":s,o=Object(r.useState)(""),l=Object(ke.a)(o,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){d(t||n)}),[d,t,n]),Object(J.jsx)("img",{className:i,src:u,alt:a,onError:function(){return d(n)}})},mt=function(e){var t=e.exercise;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:"card card--sm",children:[Object(J.jsx)(bt,{imageUrl:t.imageUrl,defaultImageUrl:"".concat("","/img/default.jpg"),altText:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]})})},xt=n(572),Ot=n(573),pt=function(e){var t=e.children,n=e.handleDelete,r=e.handleCancel;return Object(J.jsxs)(J.Fragment,{children:[t,Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:r,children:"Cancel"}),Object(J.jsx)(Ie.a,{variant:"contained",endIcon:Object(J.jsx)(xt.a,{}),color:"error",onClick:n,children:"Accept"})]})]})},ht=function(e){var t=e.exerciseList,n=Object(G.b)(),c=Object(G.c)((function(e){return e.exercises})).current,a=Object(r.useState)(!1),s=Object(ke.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(!1),d=Object(ke.a)(u,2),j=d[0],b=d[1],m=Object(r.useState)(t.findIndex((function(e){return e.id===c.id}))),x=Object(ke.a)(m,2),O=x[0],p=x[1],h=st(Object(we.a)(Object(we.a)({},c),{},{newImage:null})),f=Object(ke.a)(h,4),g=f[0],v=f[1],y=f[2],w=f[3],k=JSON.parse(localStorage.getItem("muscleList")),N="newImage",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",r={};"next"===e?t[O+1]?(r=t[O+1],p(O+1)):(r=t[0],p(0)):t[O-1]?(r=t[O-1],p(O-1)):(r=t[t.length-1],p(t.length-1)),n(le(r)),w(Object(we.a)(Object(we.a)({},g),r))};return i?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pt,{handleCancel:function(){o(!1)},handleDelete:function(){var e,t;n((e=g.id,t=g.imageUrl,function(){var n=Object(Q.a)(K.a.mark((function n(r){var c,a;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ee("exercise/".concat(e),{imageUrl:t},"DELETE");case 3:if(!(c=n.sent).ok){n.next=9;break}r(de(e)),r(q("success","Exercise deleted",!0)),n.next=13;break;case 9:return n.next=11,c.json();case 11:a=n.sent,r(q("error",a.error,!0));case 13:r(re(!1)),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(0),r(se(n.t0.message)),r(q("error",n.t0.message,!0)),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()))},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete the exercise ",Object(J.jsx)("b",{children:c.name}),"?"]})})}):Object(J.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,r=document.getElementsByName("muscleNames")[0].value;if(function(e){return g.name?""!==e||(n(q("error","Select a valid muscle",!0)),!1):(n(q("error","Invalid exercise name",!0)),!1)}(r)){var c=r!==g.muscleNames;b(!0),n((t=Object(we.a)(Object(we.a)({},g),{},{muscleNames:r,updateMuscles:c}),function(){var e=Object(Q.a)(K.a.mark((function e(n,r){var c,a,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=r().muscles.current,e.next=4,te("exercise/".concat(t.id),t,"PUT");case 4:return a=e.sent,e.next=7,a.json();case 7:s=e.sent,a.ok?("All"===c.name||t.muscleNames.includes(c.name)?(t.newImage&&(t.imageName=s.imageName,t.imageUrl=s.imageUrl),delete t.newImage,delete t.updateMuscles,n(ue(t))):n(de(t.id)),n(q("success","Exercise updated",!0))):n(q("error",s,!0)),n(re(!1)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),n(se(e.t0.message)),n(q("error",e.t0.message,!0)),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()))}},className:"modal-details",children:[Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--previous",onClick:function(){return C("previous")},children:"<"}),Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--next",onClick:function(){return C("next")},children:">"}),Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{onClick:function(){g.imageUrl&&window.open(g.imageUrl,"_blank")},className:"image",src:(null===g||void 0===g?void 0:g.imageUrl)?g.imageUrl:"".concat("","/img/default.jpg"),alt:g.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(Ee.a,{size:"small",label:"Exercise Name",fullWidth:!0,name:"name",onChange:v,value:g.name}),Object(J.jsx)(Ee.a,{sx:{margin:"1rem 0"},size:"small",name:"description",fullWidth:!0,label:"Description",multiline:!0,rows:"3",onChange:v,value:g.description}),Object(J.jsx)(Ke.a,{fullWidth:!0,children:Object(J.jsx)(ut,{items:k,placeholder:"Select muscles",defaultValues:g.muscleNames,name:"muscleNames"})}),Object(J.jsx)(it,{name:N,id:N,onChangeFunction:function(){y(N,document.getElementById(N).files[0])}})]}),Object(J.jsxs)(nt.a,{direction:"row",justifyContent:"space-between",children:[Object(J.jsx)(Ie.a,{variant:"contained",endIcon:Object(J.jsx)(xt.a,{}),color:"error",size:"small",onClick:function(){return o(!0)},children:"Delete"}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,children:[Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:function(){return n(re(!1,""))},size:"small",children:"Close"}),Object(J.jsx)(rt.a,{color:"success",endIcon:Object(J.jsx)(Ot.a,{}),loading:j,loadingPosition:"end",variant:"contained",type:"submit",size:"small",children:"Save"})]})]})]})]})},ft="MuscleList",gt="MuscleItem",vt="ExerciseList",yt="ExerciseItem",wt="ExerciseNew",kt="ExerciseAddExisting",Nt="WorkoutsAdd",Ct="WorkoutsUpdate",St="WorkoutsDelete",Et="WorkoutsExercise",_t="usersAdd",It="userEdit",Ut="userDelete",At=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.muscles})).current,n=function(n){e("new"===n?re(!0,"Add new exercise",vt):re(!0,"Add exercise to ".concat(t.name),kt))};return Object(J.jsxs)(nt.a,{direction:"row",spacing:3,justifyContent:"center",children:[Object(J.jsx)(Ie.a,{color:"primary",variant:"contained",onClick:function(){return n("new")},children:"New"}),Object(J.jsx)(Ie.a,{color:"secondary",variant:"contained",onClick:function(){return n("existing")},children:"Existing"})]})},Lt=n(302),Wt=n(605),Tt=[{field:"name",headerName:"Exercise name",width:150},{field:"description",headerName:"Description",width:250}],Dt=Object(r.memo)((function(e){var t=e.handleAdd,n=e.exerciseList,c=Object(r.useState)({}),a=Object(ke.a)(c,2),s=a[0],i=a[1],o=Object(r.useRef)(),l=n.map((function(e){return{id:e.id,name:e.name,description:e.description,imageName:e.imageName,imageUrl:e.imageUrl}})),u=Object(r.useState)(null),d=Object(ke.a)(u,2),j=d[0],b=d[1],m=function(){b(null)},x=Boolean(j);return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{style:{height:275},children:[Object(J.jsx)(Lt.a,{ref:o,"aria-owns":x?"mouse-over-popover":void 0,"aria-haspopup":"true",rows:l,columns:Tt,pageSize:5,rowsPerPageOptions:[5],disableSelectionOnClick:!0,onCellClick:t,onCellEnter:function(e){b(o.current),i({name:e.row.name,imageUrl:e.row.imageUrl})},onCellLeave:m,density:"compact"}),Object(J.jsxs)(Wt.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:x,anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:m,disableRestoreFocus:!0,children:[Object(J.jsx)(Se.a,{sx:{p:1},children:s.name}),Object(J.jsx)("img",{style:{maxWidth:"150px"},src:s.imageUrl,alt:s.imageName})]})]})})})),Ft=n(592),Pt=n(610),Mt=Object(r.memo)((function(e){var t=e.muscleList,n=e.handleChange,c=e.removeCurrentMuscle,a=void 0!==c&&c,s=Object(r.useState)(0),i=Object(ke.a)(s,2),o=i[0],l=i[1],u=Object(G.c)((function(e){return e.muscles})).current;return Object(J.jsxs)(Ft.a,{variant:"scrollable",value:o,onChange:function(e,t){l(t),n(t)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:[Object(J.jsx)(Pt.a,{label:"All",value:0},"tab-all"),a?t.map((function(e){return e.id!==u.id&&Object(J.jsx)(Pt.a,{value:e.id,label:e.name},"tab-".concat(e.name))})):t.map((function(e){return Object(J.jsx)(Pt.a,{value:e.id,label:e.name},"tab-".concat(e.name))}))]})})),zt=function(){var e=Object(G.b)(),t=Object(r.useState)(null),n=Object(ke.a)(t,2),c=n[0],a=n[1],s=Object(G.c)((function(e){return e.muscles})),i=s.muscleList,o=s.loading,l=s.current,u=Object(r.useState)(!1),d=Object(ke.a)(u,2),j=d[0],b=d[1],m=Object(G.c)((function(e){return e.exercises})),x=m.exerciseListToAddNew,O=m.exerciseList;return Object(r.useEffect)((function(){0===i.length&&e(me()),e(ie(0,!1))}),[e,i.length]),Object(J.jsxs)("div",{children:[o?Object(J.jsx)("p",{children:"Loading muscles"}):Object(J.jsx)(Mt,{muscleList:i,handleChange:function(t){e(ie(t,!1))},removeCurrentMuscle:!0}),Object(J.jsx)(Dt,{handleAdd:function(t){O.find((function(e){return e.id===t.row.id}))?e(q("info","The exercise ".concat(t.row.name," already exists in ").concat(l.name," exericises"),!0)):a(t.row)},exerciseList:x}),c?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(Se.a,{component:"p",variant:"h6",textAlign:"center",marginY:1,children:["Selected exercise: ",c.name]}),Object(J.jsx)("div",{className:"modal-new-exercise__image-section",children:Object(J.jsx)(bt,{imageUrl:c.imageUrl,defaultImageUrl:"".concat("","/img/default.jpg"),altText:c.imageName,className:"modal-image-30"})}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:function(){return e(re(!1))},children:"Cancel"}),Object(J.jsx)(rt.a,{color:"success",endIcon:Object(J.jsx)(at.a,{}),loading:j,loadingPosition:"end",onClick:function(){var t,n;b(!0),e((t=c,n=l.id,function(){var e=Object(Q.a)(K.a.mark((function e(r){var c,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("exercise/".concat(t.id),{muscleId:n},"POST");case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,c.ok?(r(oe(t)),r(q("success","Exercise added",!0))):r(q("error",a.error,!0)),r(re(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),r(se(e.t0.message)),r(q("error",e.t0.message,!0)),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},variant:"contained",children:"Save"})]})]}):Object(J.jsx)(Se.a,{component:"p",variant:"h6",textAlign:"center",marginY:1,children:"No exercise selected"})]})},Bt=n(574),Rt=n(94),qt=n(205),Gt=n.n(qt),Jt={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},Vt={sz:"18",bold:!0},Yt={font:{sz:"14"},border:Jt},Ht={columns:[{title:"Exercise",width:{wpx:200},style:{font:Vt,border:Jt}},{title:"Muscle",width:{wpx:200},style:{font:Vt,border:Jt}},{title:"Description",width:{wpx:300},style:{font:Vt,border:Jt}}],data:[{value:"name",style:Yt},{value:"muscleName",style:Yt},{value:"description",style:Object(we.a)(Object(we.a)({},Yt),{},{alignment:{wrapText:!0}})}]},Xt=Gt.a.ExcelFile,Kt=Gt.a.ExcelFile.ExcelSheet,Qt=function(e){var t=e.dataSource,n=e.data,r=e.fileName,c=e.sheetName,a=Object(G.b)(),s={};switch(t){case"exercises":s=Ht}var i=[{columns:s.columns.map((function(e){return{title:e.title,width:e.width,style:e.style}})),data:n.map((function(e){return s.data.map((function(t){var n=t.value,r=t.style;return{value:e[n],style:r}}))}))}];return Object(J.jsx)(J.Fragment,{children:n.length>0?Object(J.jsx)(Xt,{element:Object(J.jsx)(Me.a,{title:"Export to Excel",children:Object(J.jsx)(Rt.a,{"aria-label":"export to excel",color:"success",children:Object(J.jsx)(Bt.a,{})})}),filename:r,children:Object(J.jsx)(Kt,{dataSet:i,name:c})}):Object(J.jsx)(Me.a,{title:"Export to Excel",onClick:function(){a(q("info","There is no data to export",!0))},children:Object(J.jsx)(Rt.a,{"aria-label":"export to excel",color:"success",children:Object(J.jsx)(Bt.a,{})})})})},Zt=n(304),$t=n(575),en=function(e){var t=e.exercises,n=e.totalExercises,c=e.fileName,a=Object(G.b)(),s=Object(r.useState)(!1),i=Object(ke.a)(s,2),o=i[0],l=i[1],u=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(n)},n.src=e.imageUrl}))};return Object(J.jsx)(Me.a,{title:"Export to PDF",children:Object(J.jsxs)(Rt.a,{"aria-label":"export to pdf",color:"error",onClick:function(){if(n>0){l(!0);var e=new Zt.a("p","mm","a4");Promise.all(t.map(u)).then((function(r){r.forEach((function(r,c){var a=t[c];e.setFont("helvetica","bold"),e.setFontSize(22),e.text(a.name,20,20),e.setFontSize(16),e.setFont("helvetica","normal"),e.text(a.description,20,40);var s=r.height,i=r.width,o=s/i;(s>190||i>170)&&(s>i?i=(s=190)*(1/o):i>s&&(s=(i=170)*o)),e.addImage(r,a.imageName.split(".").at(-1),20,55,i,s),c<n-1&&e.addPage("a4","p")})),e.save("".concat(c,".pdf")),l(!1)})).catch((function(e){a(q("error","It was not possible to export the data to PDF",!0)),l(!1)}))}else a(q("info","There is no data to export",!0))},disabled:o,children:[Object(J.jsx)($t.a,{}),o&&Object(J.jsxs)("div",{className:"lds-ring",children:[Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{})]})]})})},tn=function(){var e=Object(G.b)(),t=JSON.parse(localStorage.getItem("muscleList")),n=Object(G.c)((function(e){return e.modal})),c=Object(G.c)((function(e){return e.auth.user})).isAdmin,a=Object(G.c)((function(e){return e.muscles.current})),s=Object(G.c)((function(e){return e.exercises})),i=s.exerciseList,o=s.loading,l=Object(r.useState)(""),u=Object(ke.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(i.length),m=Object(ke.a)(b,2),x=m[0],O=m[1],p=function(t,n,r){e(re(t,n,r))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;return i.map((function(n){return-1!==n.name.search(new RegExp(e,"i"))&&t++})),t},f=a.name;return Object(r.useEffect)((function(){e(ie(a.id))}),[e,a.id]),Object(r.useEffect)((function(){O(i.length)}),[i,O]),Object(J.jsx)("div",{children:o?Object(J.jsx)("h1",{children:"Loading..."}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{className:"flex-box space-between m-y--1 space-elements-y--1",children:[Object(J.jsxs)(Ke.a,{children:[Object(J.jsx)(Qe.a,{id:"lblSelectMuscle",children:"Muscle"}),Object(J.jsxs)(Ze.a,{id:"ddlMuscle",value:a.id,label:"Muscle",labelId:"lblSelectMuscle",onChange:function(n){var r=n.target.value;e(he(0!==r?t.find((function(e){return e.id===r})):null))},size:"small",children:[Object(J.jsx)($e.a,{value:0,name:"All",children:"All"}),t.map((function(e,t){return Object(J.jsx)($e.a,{value:e.id,children:e.name},t)}))]})]}),Object(J.jsx)(Ee.a,{size:"small",label:"Search",onChange:function(e){var t=e.target.value.replace(/\\/g,"\\\\");j(t),O(""!==t?h(t):i.length)},placeholder:"Filter exercises",variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(_e.a,{position:"end",children:Object(J.jsx)(He.a,{})})}})]}),Object(J.jsxs)("div",{className:"flex-box space-between",children:[Object(J.jsx)(Se.a,{variant:"h5",component:"p",children:"Results:"}),Object(J.jsxs)(Se.a,{variant:"h5",component:"p",children:[x>0?x:0," Exercise(s) found"]})]}),Object(J.jsxs)("div",{className:"export-data-buttons-area",children:[Object(J.jsx)(Qt,{dataSource:"exercises",data:i,fileName:"".concat(f," exercises"),sheetName:"".concat(f," exercises")}),Object(J.jsx)(en,{exercises:i,totalExercises:x,fileName:"".concat(f," exercises")})]}),Object(J.jsx)("div",{className:"card-grid-container",children:i.map((function(t){return-1!==t.name.search(new RegExp(d,"i"))&&Object(J.jsx)("div",{onClick:function(){return function(t){e(le(t)),e(re(!0,t.name,yt))}(t)},children:Object(J.jsx)(mt,{exercise:t})},t.name+t.id)}))}),c&&Object(J.jsx)(Me.a,{title:"Add new exercise",children:Object(J.jsx)(ze.a,{sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add-exercise",onClick:function(){0!==a.id?p(!0,"Add new or existing exercise",wt):p(!0,"Add new exercise",vt)},children:Object(J.jsx)(Xe.a,{})})}),n.componentName===vt&&Object(J.jsx)(tt,{children:Object(J.jsx)(dt,{muscleList:t,selectedMuscleName:f,handleModal:p})}),n.componentName===kt&&Object(J.jsx)(tt,{modalSize:"md2",children:Object(J.jsx)(zt,{})}),n.componentName===yt&&Object(J.jsx)(tt,{modalSize:"md",children:c?Object(J.jsx)(ht,{exerciseList:i}):Object(J.jsx)(jt,{exerciseList:i})}),n.componentName===wt&&Object(J.jsx)(tt,{modalSize:"sm",children:Object(J.jsx)(At,{})})]})})},nn=function(){var e=Object(G.b)(),t=Object(r.useState)(""),n=Object(ke.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),i=Object(ke.a)(s,2),o=i[0],l=i[1];return Object(J.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n,r=document.getElementById("muscleName").value.trim(),c=document.getElementById("image").files[0];r?c?(l(!0),e((n={name:r,image:c},function(){var e=Object(Q.a)(K.a.mark((function e(t){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(je,n);case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,r.ok?(n.id=c.muscleId,n.imageUrl=c.imageUrl,n.imageName=c.imageName,delete n.image,t(xe(n)),t(q("success","Muscle added",!0))):t(q("error",c.error,!0)),t(re(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(q("error",e.t0.message,!0)),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))):e(q("error","The image is required",!0)):a("Invalid muscle name")},children:[Object(J.jsx)(Ee.a,{size:"small",id:"muscleName",name:"muscleName",required:!0,fullWidth:!0,label:"Muscle name",helperText:c,error:!!c,autoFocus:!0}),Object(J.jsx)("div",{className:"m-y--1",children:Object(J.jsx)(it,{id:"image",name:"image"})}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:function(){return e(re(!1))},children:"Cancel"}),Object(J.jsx)(rt.a,{loading:o,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(at.a,{}),color:"success",type:"submit",children:"Save"})]})]})},rn=function(e){var t=e.muscle,n=e.editMode,r=void 0!==n&&n,c=e.onMuscleCardClick;return Object(J.jsx)("div",{className:"card card--md",onClick:function(){return c(t)},children:r?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("img",{src:t.imageUrl?t.imageUrl:"".concat("","/img/default.jpg"),alt:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]}):Object(J.jsxs)(Y.b,{to:"/exercises",children:[Object(J.jsx)(bt,{imageUrl:t.imageUrl,defaultImageUrl:"".concat("","/img/default.jpg"),altText:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]})})},cn=n(578),an=n(562),sn=n(600),on=n(502),ln=n(593),un=n(607),dn=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.muscles.current})),n=Object(r.useState)(""),c=Object(ke.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!1),o=Object(ke.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)(null),j=Object(ke.a)(d,2),b=j[0],m=j[1],x=Object(r.useState)(!1),O=Object(ke.a)(x,2),p=O[0],h=O[1],f=Object(r.useState)(t.name),g=Object(ke.a)(f,2),v=g[0],y=g[1],w=function(){h(!p),e(re(!0,p?"Edit muscle":'Delete muscle "'.concat(t.name,'"'),gt))};return p?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(pt,{handleCancel:w,handleDelete:function(){null!==b?e(function(e,t,n){return function(){var r=Object(Q.a)(K.a.mark((function r(c){var a,s,i;return K.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ee("".concat(je,"/").concat(e),{imageUrl:t,deleteExercises:n},"DELETE");case 3:if(!(a=r.sent).ok){r.next=11;break}c(pe(e)),c(re(!1)),c(q("success","Muscle deleted",!0)),c(he(null)),r.next=16;break;case 11:return r.next=13,a.json();case 13:s=r.sent,i=s.error,c(q("error",i,!0));case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(0),console.log(r.t0),c(q("error",r.t0.message,!0));case 22:case"end":return r.stop()}}),r,null,[[0,18]])})));return function(e){return r.apply(this,arguments)}}()}(t.id,t.imageUrl,b)):s("Select an option")},children:Object(J.jsxs)(Ke.a,{component:"fieldset",error:!!a,children:[Object(J.jsxs)(an.a,{component:"legend",children:['Delete all exercises associated with "',t.name,'"?']}),Object(J.jsxs)(sn.a,{row:!0,"aria-label":"delete muscle exercises",onChange:function(e){"true"===e.target.value?m(!0):m(!1),s("")},children:[Object(J.jsx)(on.a,{id:"fclDeleteExercisesNo",value:!1,control:Object(J.jsx)(ln.a,{}),label:"No"}),Object(J.jsx)(on.a,{id:"fclDeleteExercisesYes",value:!0,control:Object(J.jsx)(ln.a,{}),label:"Yes"})]}),Object(J.jsx)(un.a,{children:a})]})})}):Object(J.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),v.trim()){u(!0);var r,c=document.getElementById("image").files[0];t.name=v.trim(),t.newImage=c,e((r=t,function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te("".concat(je,"/").concat(r.id),r,"PUT");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,n.ok?(r.newImage&&(r.imageUrl=c.imageUrl,r.imageName=c.imageName,delete r.newImage),t(Oe(r)),t(q("success","Muscle updated",!0)),t(re(!1))):t(q("error",c.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(q("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}else s("Invalid muscle name")},className:"modal-details",children:[Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{onClick:function(){return window.open(t.imageUrl,"_blank")},src:t.imageUrl?t.imageUrl:"".concat("","/img/default.jpg"),alt:t.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(Ee.a,{size:"small",id:"muscleName",name:"muscleName",required:!0,fullWidth:!0,value:v,onChange:function(e){return y(e.target.value)},label:"Muscle name",helperText:a,error:!!a,autoFocus:!0}),Object(J.jsx)(it,{id:"image",name:"image",currentImageName:t.imageName})]}),Object(J.jsxs)(nt.a,{direction:"row",justifyContent:"space-between",spacing:2,children:[Object(J.jsx)(Ie.a,{variant:"contained",endIcon:Object(J.jsx)(xt.a,{}),color:"error",size:"small",onClick:function(){return w()},children:"Delete"}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,children:[Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:function(){return e(re(!1))},size:"small",children:"Cancel"}),Object(J.jsx)(rt.a,{loading:l,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(Ot.a,{}),color:"success",type:"submit",size:"small",children:"Update"})]})]})]})]})},jn=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.muscles})),n=t.muscleList,c=t.loading,a=Object(G.c)((function(e){return e.auth.user})).isAdmin,s=Object(G.c)((function(e){return e.modal})),i=Object(r.useState)(!1),o=Object(ke.a)(i,2),l=o[0],u=o[1];Object(r.useEffect)((function(){0===n.length&&e(me())}),[e,n]),Object(r.useEffect)((function(){n.length>0&&localStorage.setItem("muscleList",JSON.stringify(n))}),[n]);var d=l?{color:"white",bgcolor:"#FE4343","&:hover":{bgcolor:"#DF0000"}}:{color:"white",bgcolor:"#109EB4","&:hover":{bgcolor:"#1087B4"}},j=function(t){e(he(t)),l&&e(re(!0,"Edit muscle",gt))};return c?Object(J.jsx)("h1",{children:"Loading..."}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Se.a,{variant:"h4",textAlign:"center",margin:3,children:"Muscles"}),Object(J.jsx)("div",{className:"card-grid-container",children:n.map((function(e){return Object(J.jsx)(rn,{muscle:e,editMode:l,onMuscleCardClick:j},e.id)}))}),a&&Object(J.jsxs)(nt.a,{direction:"column",spacing:1,sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},children:[Object(J.jsx)(Me.a,{title:l?"Cancel editing":"Edit muscle",children:Object(J.jsx)(ze.a,{sx:Object(we.a)({},d),"aria-label":"edit",onClick:function(){u(!l),e(q("info","Select a muscle to edit it",!l))},children:l?Object(J.jsx)(et.a,{}):Object(J.jsx)(cn.a,{})})}),Object(J.jsx)(Me.a,{title:"Add new muscle",children:Object(J.jsx)(ze.a,{color:"primary","aria-label":"edit",onClick:function(){return e(re(!0,"Add new muscle",ft))},children:Object(J.jsx)(Xe.a,{})})})]}),s.componentName===ft&&Object(J.jsx)(tt,{children:Object(J.jsx)(nn,{})}),s.componentName===gt&&Object(J.jsx)(tt,{modalSize:"md",children:Object(J.jsx)(dn,{})})]})},bn=function(e){return{type:E,payload:e}},mn=function(e){return{type:L,payload:e}},xn=n(305),On=n.n(xn),pn=function(e){var t=e.onClickFunction,n=e.tooltipText,r=void 0===n?"Add":n;return Object(J.jsx)(Me.a,{title:r,children:Object(J.jsx)(ze.a,{onClick:t,sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add",children:Object(J.jsx)(On.a,{})})})},hn={name:null,lastname:null,email:null,role_id:null,password:null,confirmPassword:null},fn=function(e){var t=e.user,n=Object(G.b)(),c=Object(G.c)((function(e){return e.user})).roles,a=Object(r.useState)(hn),s=Object(ke.a)(a,2),i=s[0],o=s[1],l=function(e){var n=!1,r=Object(we.a)({},hn);return""===e.name&&(r.name="Invalid user name",n=!0),""===e.lastname&&(r.lastname="Invalid last name",n=!0),""===e.email&&(r.email="Invalid email",n=!0),"0"===e.role_id&&(r.role_id="Select a valid role",n=!0),t||(""===e.password?(r.password="Invalid password",n=!0):e.password!==e.confirmPassword&&(r.confirmPassword="Passwords must match",n=!0)),o(r),!n};return Object(r.useEffect)((function(){c||n(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/roles");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?t({type:I,payload:r}):t(q("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[n,c]),Object(J.jsxs)(Le.a,{component:"form",container:!0,spacing:2,onSubmit:function(e){e.preventDefault();var r=new FormData(e.currentTarget),c={name:r.get("name").trim(),lastname:r.get("lastname").trim(),email:r.get("email").trim(),role_id:r.get("role_id")};t||(c.password=r.get("password"),c.confirmPassword=r.get("confirmPassword")),l(c)&&(t?n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var r,c;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("user/".concat(e.id),e,"PUT");case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,r.ok?(n({type:A,payload:e}),n(q("success","User updated",!0))):n(q("error",c.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n(q("error",t.t0.message,!1)),console.log("error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(Object(we.a)(Object(we.a)({},c),{},{id:t.id}))):(delete c.confirmPassword,n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var r,c;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("user/new",e,"POST");case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,r.ok?(n((a=Object(we.a)(Object(we.a)({},e),{},{id:c.userId}),{type:_,payload:a})),n(q("success","User added",!0))):n(q("error",c.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n(q("error",t.t0.message,!1)),console.log("error",t.t0);case 14:case"end":return t.stop()}var a}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(c))),n(re()))},sx:{marginTop:"0.5rem"},children:[Object(J.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(Ee.a,{defaultValue:null===t||void 0===t?void 0:t.name,error:!!i.userName,fullWidth:!0,helperText:i.userName,label:"User name",name:"name",required:!0,size:"small"})}),Object(J.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(Ee.a,{defaultValue:null===t||void 0===t?void 0:t.lastname,error:!!i.lastname,fullWidth:!0,helperText:i.lastname,label:"Last name",name:"lastname",required:!0,size:"small"})}),Object(J.jsx)(Le.a,{item:!0,xs:12,children:Object(J.jsx)(Ee.a,{defaultValue:null===t||void 0===t?void 0:t.email,error:!!i.email,fullWidth:!0,helperText:i.email,label:"Email",name:"email",required:!0,size:"small",type:"email"})}),Object(J.jsx)(Le.a,{item:!0,xs:12,children:Object(J.jsxs)(Ke.a,{fullWidth:!0,error:!!i.role_id,children:[Object(J.jsx)(Qe.a,{children:"Role *"}),c&&Object(J.jsxs)(Ze.a,{required:!0,size:"small",defaultValue:t?t.role_id:0,name:"role_id",label:"Role *",children:[Object(J.jsx)($e.a,{value:0,children:"Select role"}),c.map((function(e){return Object(J.jsx)($e.a,{value:e.id,children:e.role},e.id)}))]}),Object(J.jsx)(un.a,{children:i.role_id})]})}),!t&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(Ee.a,{error:!!i.password,fullWidth:!0,helperText:i.password,label:"Password",name:"password",required:!0,size:"small",type:"password"})}),Object(J.jsx)(Le.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(Ee.a,{error:!!i.confirmPassword,fullWidth:!0,helperText:i.confirmPassword,label:"Confirm password",name:"confirmPassword",required:!0,size:"small",type:"password"})})]}),Object(J.jsx)(Le.a,{item:!0,xs:12,sx:{marginTop:"2rem"},children:Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:function(){return n(re(!1))},children:"Cancel"}),Object(J.jsx)(Ie.a,{variant:"contained",endIcon:Object(J.jsx)(Ot.a,{}),color:"success",type:"submit",children:"Save"})]})})]})},gn=n(579),vn=n(307),yn=n.n(vn),wn=n(306),kn=n.n(wn),Nn=function(e){var t=e.handleEdit,n=e.handleDelete,c=e.filterWord,a=void 0===c?"":c,s=Object(G.b)(),i=Object(G.c)((function(e){return e.user})).users;return Object(r.useEffect)((function(){i||s(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?t({type:U,payload:r}):t(q("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[s,i]),Object(J.jsx)(J.Fragment,{children:i?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(qe.a,{sx:{maxWidth:"1300px",width:"95%",margin:"0 auto"},children:i.map((function(e,r){return-1!==e.name.search(new RegExp(a,"i"))&&Object(J.jsxs)("div",{children:[Object(J.jsxs)(Ge.a,{children:[Object(J.jsx)(Je.a,{primary:"".concat(e.name," ").concat(e.lastname),secondary:e.email}),Object(J.jsx)(Rt.a,{onClick:function(){return t(e)},"aria-label":"delete-user",variant:"contained",color:"info",children:Object(J.jsx)(kn.a,{})}),Object(J.jsx)(Rt.a,{"aria-label":"delete-user",variant:"contained",color:"error",onClick:function(){return n(e)},children:Object(J.jsx)(yn.a,{})})]}),Object(J.jsx)(gn.a,{})]},r)}))})}):Object(J.jsx)("p",{children:" Loading..."})})},Cn=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.modal})).componentName,n=Object(G.c)((function(e){return e.user})).currentUser,c=Object(r.useState)(""),a=Object(ke.a)(c,2),s=a[0],i=a[1],o=function(){e(re())};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Se.a,{variant:"h4",textAlign:"center",marginY:3,children:"Manage users"}),Object(J.jsx)("div",{className:"flex-box",style:{justifyContent:"center"},children:Object(J.jsx)(Ee.a,{size:"small",label:"Search",onChange:function(e){var t=e.target.value.replace(/\\/g,"\\\\");i(t)},placeholder:"Filter",variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(_e.a,{position:"end",children:Object(J.jsx)(He.a,{})})}})}),Object(J.jsx)(Nn,{filterWord:s,handleEdit:function(t){e(bn(t)),e(re(!0,"Edit user",It))},handleDelete:function(t){e(bn(t)),e(re(!0,"Delete user",Ut))}}),Object(J.jsx)(pn,{onClickFunction:function(){e(re(!0,"Add user",_t))},tooltipText:"Add new user"}),t===_t&&Object(J.jsx)(tt,{children:Object(J.jsx)(fn,{})}),t===It&&Object(J.jsx)(tt,{children:Object(J.jsx)(fn,{user:n})}),t===Ut&&Object(J.jsx)(tt,{children:Object(J.jsx)(pt,{handleCancel:o,handleDelete:function(){var t;e((t=n.id,function(){var e=Object(Q.a)(K.a.mark((function e(n){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/".concat(t),{},"DELETE");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,r.ok?(n(mn(t)),n(q("success","User deleted",!0))):n(q("error",c.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),o()},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete the user"," ",Object(J.jsxs)("b",{children:[n.name," ",n.lastname]})," ","and all its associated data (workouts)?"]})})})]})},Sn="workout",En=function(e){return{type:R,payload:e}},_n=function(e){return{type:D,payload:e}},In=function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var r,c;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("".concat(Sn,"/my-workouts/").concat(e));case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,r.ok?n(_n(c)):(n(Tn()),n(q("error",c.error,!0)),console.log(c.error)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(q("error",t.t0.message,!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Un=function(e){return{type:F,payload:e}},An=function(e){return{type:T,payload:e}},Ln=function(e){return{type:P,payload:e}},Wn=function(e){return{type:M,payload:e}},Tn=function(){return{type:u}},Dn=n(612),Fn=n(614),Pn=n(613),Mn=function(e){var t=e.exercise,n=e.onCardClick;return Object(J.jsx)(Dn.a,{className:"workout-card",onClick:function(){return n(t)},children:Object(J.jsxs)(Pn.a,{children:[Object(J.jsx)(bt,{imageUrl:t.imageUrl,defaultImageUrl:"".concat("","/img/default.jpg"),altText:t.name,className:" workout-card__image"}),Object(J.jsx)(Fn.a,{className:"workout-card__text",children:Object(J.jsx)(Se.a,{gutterBottom:!0,variant:"h5",component:"p",className:"workout-card__text-title",children:t.name})})]})})},zn=function(){var e=Object(G.b)(),t=Object(H.h)().workoutName,n=Object(G.c)((function(e){return e.workouts})).currentWorkoutExercises,c=n.length,a=Object(G.c)((function(e){return e.modal}));Object(r.useEffect)((function(){0===n.length&&e(In(t))}),[e,t,n]);var s=function(t){e(le(t)),e(re(!0,t.name,Et))};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(Se.a,{variant:"h4",component:"p",textAlign:"center",margin:3,children:[Object(J.jsx)("b",{children:t})," workout"]}),Object(J.jsxs)(Se.a,{variant:"h5",component:"p",textAlign:"right",children:[c," Exercise(s)"]}),Object(J.jsxs)("div",{className:"export-data-buttons-area",children:[Object(J.jsx)(Qt,{dataSource:"exercises",data:n,fileName:"".concat(t," workout"),sheetName:t}),Object(J.jsx)(en,{exercises:n,totalExercises:c,fileName:t})]}),Object(J.jsx)("div",{className:"card-grid-container",children:n.map((function(e,t){return Object(J.jsx)(Mn,{exercise:e,onCardClick:s},"".concat(t,"-").concat(e.name))}))}),a.componentName===Et&&Object(J.jsx)(tt,{modalSize:"md",children:Object(J.jsx)(jt,{exerciseList:n,componentModalName:Et})})]})},Bn=n(17),Rn=n(603),qn=n(5),Gn=n(314),Jn=Object(qn.a)("li")((function(e){return{margin:e.theme.spacing(.5)}})),Vn=c.a.memo((function(e){var t=e.chips,n=void 0===t?[]:t,r=e.title,c=void 0===r?"":r,a=e.handleDelete;return Object(J.jsxs)(J.Fragment,{children:[!!c&&Object(J.jsx)("p",{children:c}),Object(J.jsx)(Gn.a,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0},component:"ul",children:n.map((function(e){return Object(J.jsx)(Jn,{children:Object(J.jsx)(lt.a,{label:e.label,onDelete:function(){return a(e)}})},e.key)}))})]})})),Yn=function(e){var t=e.action,n=Object(G.b)(),c=Object(G.c)((function(e){return e.workouts})),a=c.currentWorkout,s=c.currentWorkoutExercises,i=Object(G.c)((function(e){return e.exercises})).exerciseList,o=Object(r.useState)(s?s.map((function(e,t){return{id:e.id,label:e.name,key:t}})):[]),l=Object(ke.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(""),b=Object(ke.a)(j,2),m=b[0],x=b[1],O=Object(r.useState)(!1),p=Object(ke.a)(O,2),h=p[0],f=p[1],g=st({name:a.name||"",description:a.description||""}),v=Object(ke.a)(g,2),y=v[0],w=v[1],k=y.name,N=y.description,C=Object(r.useMemo)((function(){return JSON.parse(localStorage.getItem("muscleList"))}),[]),S=Object(r.useCallback)((function(e){d([].concat(Object(Bn.a)(u),[{key:Date.now(),label:e.row.name,id:e.id}]))}),[u]),E=Object(r.useCallback)((function(e){return d(u.filter((function(t){return t.key!==e.key})))}),[u]);return Object(r.useEffect)((function(){n(ie(0))}),[n]),Object(J.jsxs)(nt.a,{component:"form",spacing:2,onSubmit:function(e){e.preventDefault();var r=k.trim(),c=N.trim(),i=document.getElementById("workoutImage").files[0];if(r)if(x(""),0!==u.length){var o,l=u.map((function(e){return e.id})).join(",");if(f(!0),"add"===t)n((o={name:r,description:c,exerciseIds:l,image:i},function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(Sn,o,"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?(o.image&&(o.imageName=r.imageName,o.imageUrl=r.imageUrl,delete o.image),o.id=r.workoutId,t(An(o)),t(q("success","Workout added",!0)),t(re(!1))):t(q("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(q("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));else if("update"===t){s.map((function(e){return e.id})).join(",")===l&&(l=null),n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var r,c;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te("".concat(Sn,"/").concat(e.id),e,"PUT");case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,r.ok?(e.newImage&&(e.imageName=c.imageName,e.imageUrl=c.imageUrl,delete e.newImage),n(Ln(e)),n(q("success","Workout updated",!0)),n(re(!1))):n(q("error",c.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(q("error",t.t0.message,!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}({id:a.id,name:r,description:c,imageName:a.imageName,imageUrl:a.imageUrl,exerciseIds:l,newImage:i}))}}else n(q("error","Select at least one exercise",!0));else x("Invalid workout name")},children:[Object(J.jsxs)(Ke.a,{sx:{width:"100%"},error:!!m,children:[Object(J.jsx)(Qe.a,{htmlFor:"workoutName",children:"Workout name*"}),Object(J.jsx)(Rn.a,{required:!0,id:"workoutName","aria-describedby":"workout-name",name:"name",onChange:w,value:k}),Object(J.jsx)(un.a,{id:"my-helper-text",children:m||"Enter a name that describe your workout"})]}),Object(J.jsxs)(Ke.a,{sx:{width:"100%"},children:[Object(J.jsx)(Qe.a,{htmlFor:"workoutDescription",children:"Description"}),Object(J.jsx)(Rn.a,{id:"workoutDescription","aria-describedby":"workout-description",multiline:!0,name:"description",value:N,onChange:w,rows:2})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(Mt,{muscleList:C,handleChange:function(e){n(ie(e))}}),Object(J.jsx)(Vn,{chips:u,handleDelete:E}),Object(J.jsx)(Dt,{handleAdd:S,exerciseList:i})]}),Object(J.jsx)("div",{className:"margin-y-1",children:Object(J.jsx)(it,{id:"workoutImage",name:"workoutImage",currentImageName:a.imageName})}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(J.jsx)(Ie.a,{variant:"contained",color:"info",onClick:function(){return n(re(!1))},children:"Cancel"}),Object(J.jsx)(rt.a,{loading:h,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(Ot.a,{}),color:"success",type:"submit",children:"Save"})]})]})},Hn=n(615),Xn=function(e){var t=e.workout,n=e.onCardClick,r=Object(G.b)();return Object(J.jsxs)(Dn.a,{className:"workout-card",onClick:function(){return n(t)},children:[Object(J.jsx)(Pn.a,{children:Object(J.jsxs)(Y.b,{style:{textDecoration:"none"},to:"workouts/".concat(t.name),children:[Object(J.jsx)(bt,{imageUrl:t.imageUrl,defaultImageUrl:"".concat("","/img/defaultWorkout.jpg"),altText:t.name,className:"workout-card__image"}),Object(J.jsxs)(Fn.a,{children:[Object(J.jsx)(Se.a,{gutterBottom:!0,variant:"h6",component:"p",children:t.name}),Object(J.jsx)(Se.a,{variant:"body2",color:"text.secondary",children:t.description})]})]})}),Object(J.jsxs)(Hn.a,{className:"workout-card__buttons",children:[Object(J.jsx)(Ie.a,{size:"small",color:"secondary",endIcon:Object(J.jsx)(xt.a,{}),onClick:function(){r(re(!0,"Delete workout",St))},children:"Delete"}),Object(J.jsx)(Ie.a,{size:"small",color:"primary",endIcon:Object(J.jsx)(cn.a,{}),onClick:function(){r(re(!0,"Update workout",Ct))},children:"Edit"})]})]})},Kn=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.workouts})),n=t.myWorkouts,c=t.loading,a=t.currentWorkout,s=Object(G.c)((function(e){return e.modal})).componentName;Object(r.useEffect)((function(){e(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("".concat(Sn,"/my-workouts"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?t({type:W,payload:r}):(t(Tn()),t(q("error",r.error,!0))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(q("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var i=function(){var t=Object(Q.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(En(!0)),e(Un(n)),t.next=4,e(In(n.name));case 4:e(En(!1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(J.jsxs)("div",{className:"card-flex-container",children:[n.map((function(e){return Object(J.jsx)(Xn,{workout:e,onCardClick:i},e.id)})),s===Nt&&Object(J.jsx)(tt,{modalSize:"md2",children:Object(J.jsx)(Yn,{action:"add"})}),s===Ct&&Object(J.jsx)(tt,{modalSize:"md2",children:c?Object(J.jsx)("p",{children:"Loading workout data..."}):Object(J.jsx)(Yn,{action:"update"})}),s===St&&Object(J.jsx)(tt,{children:Object(J.jsx)(pt,{handleCancel:function(){e(re(!1))},handleDelete:function(){var t,n;e((t=a.id,n=a.imageUrl,function(){var e=Object(Q.a)(K.a.mark((function e(r){var c,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("".concat(Sn,"/").concat(t),{id:t,imageUrl:n},"DELETE");case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,c.ok?(r(Wn(t)),r(q("success","Workout deleted",!0)),r(re(!1))):r(q("error",a.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),r(q("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete your workout",Object(J.jsxs)("b",{children:[" ",a.name]}),"?"]})})})]})},Qn=function(){var e=Object(G.b)();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Se.a,{variant:"h4",textAlign:"center",margin:3,children:"My workouts"}),Object(J.jsx)(Kn,{}),Object(J.jsx)(Me.a,{title:"Add new workout",children:Object(J.jsx)(ze.a,{onClick:function(){e(Un({})),e(_n([])),e(re(!0,"Add new workout",Nt))},sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add-workout",children:Object(J.jsx)(Xe.a,{})})})]})},Zn=function(){var e=Object(H.g)(),t=Object(G.c)((function(e){return e.auth})).user;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{children:[Object(J.jsxs)(H.d,{children:[Object(J.jsx)(H.b,{exact:!0,path:"/exercises",component:tn}),Object(J.jsx)(H.b,{exact:!0,path:"/muscles",component:jn}),Object(J.jsx)(H.b,{exact:!0,path:"/workouts",component:Qn}),Object(J.jsx)(H.b,{exact:!0,path:"/about",component:Ye}),Object(J.jsx)(H.b,{exact:!0,path:"/workouts/:workoutName",component:zn}),t.isAdmin&&Object(J.jsx)(H.b,{exact:!0,path:"/users",component:Cn}),Object(J.jsx)(H.a,{to:"/muscles"})]}),Object(J.jsx)(Me.a,{title:"Previous page",children:Object(J.jsx)(ze.a,{sx:{position:"fixed",bottom:function(e){return e.spacing(2)},left:function(e){return e.spacing(2)}},color:"secondary","aria-label":"return",onClick:function(){return e.goBack()},children:Object(J.jsx)(Pe.a,{})})})]})})},$n=n(147),er=["isAuthenticated","component"],tr=function(e){var t=e.isAuthenticated,n=e.component,r=Object($n.a)(e,er);return Object(J.jsx)(H.b,Object(we.a)(Object(we.a)({},r),{},{component:function(e){return t?Object(J.jsx)(n,Object(we.a)({},e)):Object(J.jsx)(H.a,{to:"/login"})}}))},nr=["isAuthenticated","component"],rr=function(e){var t=e.isAuthenticated,n=e.component,r=Object($n.a)(e,nr);return Object(J.jsx)(H.b,Object(we.a)(Object(we.a)({},r),{},{component:function(e){return t?Object(J.jsx)(H.a,{to:"/"}):Object(J.jsx)(n,Object(we.a)({},e))}}))},cr=n(581),ar=function(e){var t=e.openCloseSidebar,n=Object(G.b)(),r=Object(G.c)((function(e){return e.auth})).user;return r.id?Object(J.jsxs)("nav",{className:"navbar navbar--fixed",children:[Object(J.jsx)("div",{className:"navbar__icon",children:Object(J.jsx)(Rt.a,{onClick:t,children:Object(J.jsx)(cr.a,{fontSize:"large"})})}),Object(J.jsxs)("div",{className:"navbar__content",children:[Object(J.jsx)("div",{className:"navbar__logo",children:Object(J.jsx)(Se.a,{variant:"h4",component:"h2",children:"WorkoutsApp"})}),Object(J.jsx)("div",{className:"navbar__user",children:Object(J.jsxs)("ul",{children:[Object(J.jsx)("li",{children:r.name}),Object(J.jsx)("li",{className:"logout m-x--1",onClick:function(){n(ve())},children:"Logout"})]})})]})]}):Object(J.jsx)("div",{className:"navbar",style:{position:"fixed",padding:"0 1rem"},children:Object(J.jsx)(Se.a,{variant:"h4",component:"h2",children:"WorkoutsApp"})})},sr=n(582),ir=n(583),or=n(584),lr=n(585),ur=n(586),dr=[{title:"Muscles",icon:Object(J.jsx)(sr.a,{}),link:"/muscles"},{title:"Exercises",icon:Object(J.jsx)(ir.a,{}),link:"/exercises"},{title:"Workouts",icon:Object(J.jsx)(or.a,{}),link:"/workouts"},{title:"About",icon:Object(J.jsx)(lr.a,{}),link:"/about"}],jr=[{title:"Users",icon:Object(J.jsx)(ur.a,{}),link:"/users"}],br=n(601),mr=function(e){var t=e.openSidebar,n=e.openCloseSidebar,r=Object(G.c)((function(e){return e.auth})).user;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(br.a,{open:t,onClose:n,children:Object(J.jsx)(We.a,{sx:{width:250},role:"presentation",onClick:n,onKeyDown:n,children:Object(J.jsxs)(qe.a,{children:[Object(J.jsx)(Ge.a,{children:Object(J.jsx)(Je.a,{children:Object(J.jsx)(Se.a,{variant:"h5",children:"WorkoutsApp"})})}),Object(J.jsx)(gn.a,{}),dr.map((function(e,t){return Object(J.jsx)(Y.b,{to:e.link,children:Object(J.jsxs)(Ge.a,{button:!0,children:[Object(J.jsx)(Ve.a,{children:e.icon}),Object(J.jsx)(Je.a,{primary:e.title})]})},t)})),r.isAdmin&&Object(J.jsxs)(J.Fragment,{children:[" ",Object(J.jsx)(gn.a,{}),Object(J.jsx)(Ge.a,{children:Object(J.jsx)(Je.a,{children:Object(J.jsx)(Se.a,{variant:"h6",children:"Management"})})}),Object(J.jsx)(gn.a,{}),jr.map((function(e,t){return Object(J.jsx)(Y.b,{to:e.link,children:Object(J.jsxs)(Ge.a,{button:!0,children:[Object(J.jsx)(Ve.a,{children:e.icon}),Object(J.jsx)(Je.a,{primary:e.title})]})},t)}))]})]})})})})},xr=function(e){var t=e.children,n=Object(r.useState)(!1),c=Object(ke.a)(n,2),a=c[0],s=c[1],i=Object(G.c)((function(e){return e.auth})).user,o=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&s(!a)};return Object(J.jsxs)("div",{children:[Object(J.jsx)(ar,{openCloseSidebar:o}),i.id&&Object(J.jsx)(mr,{openCloseSidebar:o,openSidebar:a}),Object(J.jsx)("div",{className:"container",children:t})]})},Or=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.auth})),n=t.checking,c=t.isLogged;return Object(r.useEffect)((function(){var t=localStorage.getItem("token");e(t?function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/renew");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?(localStorage.setItem("token",r.token),r.role_id===ne?r.isAdmin=!0:r.isAdmin=!1,r.id=r.uid,delete r.uid,delete r.token,t(fe(r))):t(ge()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(q("error","It was no possible to retrieve the data",!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}():ge())}),[e]),n?Object(J.jsx)("h5",{children:"Loading"}):Object(J.jsx)(Y.a,{children:Object(J.jsx)(xr,{children:Object(J.jsxs)(H.d,{children:[Object(J.jsx)(rr,{exact:!0,path:"/login",isAuthenticated:c,component:Ue}),Object(J.jsx)(rr,{exact:!0,path:"/register",isAuthenticated:c,component:Fe}),Object(J.jsx)(tr,{path:"/",isAuthenticated:c,component:Zn})]})})})},pr=n(109),hr=n(308),fr={muscleList:[],loading:!0,current:{id:0,name:"All"}},gr={exerciseList:[],exerciseListToAddNew:[],loading:!0,current:null},vr={users:null,currentUser:null,roles:null},yr={type:"error",message:"",open:!1},wr={isOpen:!1,header:"Modal title",componentName:null},kr={myWorkouts:[],loading:!0,currentWorkout:{},currentWorkoutExercises:[]},Nr={isLogged:!1,user:{},checking:!0},Cr=Object(pr.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(we.a)(Object(we.a)({},e),{},{isLogged:!0,user:t.payload,checking:!1});case C:return Object(we.a)(Object(we.a)({},e),{},{checking:!1});case S:return Object(we.a)(Object(we.a)({},Nr),{},{checking:!1});default:return e}},muscles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(we.a)(Object(we.a)({},e),{},{loading:!1,muscleList:t.payload});case j:return Object(we.a)(Object(we.a)({},e),{},{loading:!1,error:t.payload});case b:return Object(we.a)(Object(we.a)({},e),{},{current:t.payload?t.payload:fr.current});case m:return Object(we.a)(Object(we.a)({},e),{},{muscleList:[].concat(Object(Bn.a)(e.muscleList),[t.payload])});case p:var n=t.payload;return Object(we.a)(Object(we.a)({},e),{},{muscleList:e.muscleList.filter((function(e){return e.id!==n}))});case O:var r=t.payload;return Object(we.a)(Object(we.a)({},e),{},{muscleList:e.muscleList.map((function(e){return e.id!==r.id?e:r}))});case d:return fr;default:return e}},exercises:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(we.a)(Object(we.a)({},e),{},{loading:!1,exerciseList:t.payload});case f:return Object(we.a)(Object(we.a)({},e),{},{loading:!1,exerciseListToAddNew:t.payload});case u:return Object(we.a)(Object(we.a)({},e),{},{loading:!1,error:t.payload});case g:return gr;case v:return Object(we.a)(Object(we.a)({},e),{},{exerciseList:[t.payload].concat(Object(Bn.a)(e.exerciseList))});case y:return Object(we.a)(Object(we.a)({},e),{},{current:t.payload});case w:var n=t.payload;return Object(we.a)(Object(we.a)({},e),{},{exerciseList:e.exerciseList.map((function(e){return e.id!==n.id?e:n}))});case k:var r=t.payload;return Object(we.a)(Object(we.a)({},e),{},{exerciseList:e.exerciseList.filter((function(e){return e.id!==r}))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(we.a)(Object(we.a)({},e),{},{currentUser:t.payload});case U:return Object(we.a)(Object(we.a)({},e),{},{users:t.payload});case _:return Object(we.a)(Object(we.a)({},e),{},{users:[].concat(Object(Bn.a)(e.users),[t.payload])});case A:var n=t.payload;return Object(we.a)(Object(we.a)({},e),{},{users:e.users.map((function(e){return e.id!==n.id?e:n}))});case L:var r=t.payload;return Object(we.a)(Object(we.a)({},e),{},{users:e.users.filter((function(e){return e.id!==r}))});case I:return Object(we.a)(Object(we.a)({},e),{},{roles:t.payload});default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var n=t.payload,r=n.type,c=n.message,a=n.open;return Object(we.a)(Object(we.a)({},e),{},{type:r,message:c,open:a});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:var n=t.payload,r=n.isOpen,c=n.header,a=n.componentName;return Object(we.a)(Object(we.a)({},e),{},{isOpen:r,header:c,componentName:a});default:return e}},workouts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(we.a)(Object(we.a)({},e),{},{loading:!1,myWorkouts:t.payload});case D:return Object(we.a)(Object(we.a)({},e),{},{loading:!1,currentWorkoutExercises:t.payload});case F:return Object(we.a)(Object(we.a)({},e),{},{currentWorkout:Object(we.a)({},t.payload)});case T:return Object(we.a)(Object(we.a)({},e),{},{myWorkouts:[].concat(Object(Bn.a)(e.myWorkouts),[t.payload])});case P:var n=t.payload;return Object(we.a)(Object(we.a)({},e),{},{myWorkouts:Object(Bn.a)(e.myWorkouts.map((function(e){return e.id!==n.id?e:n})))});case M:var r=t.payload;return Object(we.a)(Object(we.a)({},e),{},{myWorkouts:Object(Bn.a)(e.myWorkouts.filter((function(e){return e.id!==r})))});case u:return Object(we.a)(Object(we.a)({},e),{},{loading:!1});case R:return Object(we.a)(Object(we.a)({},e),{},{loading:t.payload});default:return e}}}),Sr="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pr.c,Er=Object(pr.d)(Cr,Sr(Object(pr.a)(hr.a))),_r=n(77),Ir=n(602),Ur=n(587),Ar=Object(_r.a)({palette:{primary:{main:"#27C265",contrastText:"#fff"},secondary:{main:"#109EB4",contrastText:"#fff"}}}),Lr=function(){return Object(J.jsx)(G.a,{store:Er,children:Object(J.jsxs)(Ir.a,{theme:Ar,children:[Object(J.jsx)(Ur.a,{}),Object(J.jsx)(V,{}),Object(J.jsx)(Or,{})]})})};n(486);s.a.render(Object(J.jsx)(Lr,{}),document.getElementById("root")),i()}},[[487,1,2]]]);
//# sourceMappingURL=main.f8392ac2.chunk.js.map